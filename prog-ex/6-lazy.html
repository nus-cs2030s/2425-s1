
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://nus-cs2030s.github.io/2425-s1/prog-ex/6-lazy.html">
      
      
        <link rel="prev" href="5-maybe.html">
      
      
        <link rel="next" href="7-infinity.html">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.44">
    
    
      
        <title>Ex6 Lazy - CS2030S Programming Methodology II</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=swap">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="deep-purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ex-6-the-art-of-being-lazy" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="CS2030S Programming Methodology II" class="md-header__button md-logo" aria-label="CS2030S Programming Methodology II" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CS2030S Programming Methodology II
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Ex6 Lazy
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="CS2030S Programming Methodology II" class="md-nav__button md-logo" aria-label="CS2030S Programming Methodology II" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    CS2030S Programming Methodology II
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Notes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../00-overview.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0. Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01-compiler.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Program and Compiler
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-type.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Variables and Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-function.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-encapsulation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Encapsulation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../05-infohiding.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. Information Hiding
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../06-tell-dont-ask.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. Tell, Don't Ask
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-static-field.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7. Class Fields
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../08-static-method.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    8. Class Methods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../09-composition.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    9. Composition
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../10-heap-stack.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10. Heap and Stack
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../11-inheritance.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    11. Inheritance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../12-overriding.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    12. Overriding
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../13-overloading.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    13. Overloading
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../14-polymorphism.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    14. Polymorphism
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../15-dynamic-binding.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    15. Method Invocation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../16-lsp.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    16. LSP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../17-abstract.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    17. Abstract Class
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../18-interface.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    18. Interface
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../19-wrapper.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    19. Wrapper Class
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20-casting.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    20. Run-Time Class Mismatch
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../21-variance.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    21. Variance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../22-exception.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    22. Exceptions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../23-generics.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    23. Generics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../24-erasure.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    24. Type Erasure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../25-unchecked.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    25. Unchecked Warnings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../26-wildcard.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    26. Wildcards
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../27-inference.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    27. Type Inference
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../28-immutability.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    28. Immutability
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../29-nested-classes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    29. Nested Class
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../30-functions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    30. Side Effect-Free Programming
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../31-box-maybe.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    31. Box and Maybe
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../32-lazy.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    32. Lazy Evaluation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../33-infinitelist.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    33. Infinite List
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../34-stream.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    34. Streams in Java
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../35-logger.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    35. Loggable
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../36-monad.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    36. Monad
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../37-parallel.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    37. Parallel Streams
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../38-thread.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    38. Threads
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../39-async.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    39. Asynchronous Programming
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../40-forkjoin.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    40. Fork and Join
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Lab Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Lab Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../environments.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Programming Environments
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../github.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitHub Setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Unix CLI
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Unix CLI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../unix/background.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Background
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../unix/essentials.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Essentials
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../unix/advanced.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Advanced
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Vim
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Vim
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vim/philosophy.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Background
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vim/setup.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vim/quick-lessons.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lessons
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vim/tips.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tips
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vim/plugins.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plugins
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vim/cheatsheet.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cheat Sheet
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Java Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Java Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../style.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Coding Style
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../javadoc.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JavaDoc
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Exercises
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Exercises
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="0-circle.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ex0 Circle
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="1-simulation1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ex1 Simulation I
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="2-simulation2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ex2 Simulation II
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="3-simulation3.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ex3 Simulation III
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="4-some.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ex4 Some
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="5-maybe.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ex5 Maybe
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Ex6 Lazy
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="6-lazy.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Ex6 Lazy
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#maybe" class="md-nav__link">
    <span class="md-ellipsis">
      Maybe
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#being-lazy" class="md-nav__link">
    <span class="md-ellipsis">
      Being Lazy
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Being Lazy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#constraints" class="md-nav__link">
    <span class="md-ellipsis">
      Constraints
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tasks" class="md-nav__link">
    <span class="md-ellipsis">
      Tasks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tasks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#task-1-basic" class="md-nav__link">
    <span class="md-ellipsis">
      Task 1: Basic
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#task-2-map-and-flatmap" class="md-nav__link">
    <span class="md-ellipsis">
      Task 2: Map and FlatMap
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#task-3-filter-and-equality" class="md-nav__link">
    <span class="md-ellipsis">
      Task 3: Filter and Equality
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#task-4-combine" class="md-nav__link">
    <span class="md-ellipsis">
      Task 4: Combine
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skeleton-for-programming-exercise-5" class="md-nav__link">
    <span class="md-ellipsis">
      Skeleton for Programming Exercise 5
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#following-cs2030s-style-guide" class="md-nav__link">
    <span class="md-ellipsis">
      Following CS2030S Style Guide
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-deductions" class="md-nav__link">
    <span class="md-ellipsis">
      Further Deductions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#documentation-optional" class="md-nav__link">
    <span class="md-ellipsis">
      Documentation (Optional)
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="7-infinity.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ex7 InfiniteList
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="8-future.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ex8 Future
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="9-parallel.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ex9 Parallel
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Mini Lab
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Mini Lab
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../labs/lab01.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab 01
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../labs/lab02.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab 02
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../labs/lab03.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab 03
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../labs/lab04.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab 04
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../labs/lab05.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab 05
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../labs/lab06.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab 06
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../labs/lab07.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab 07
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="ex-6-the-art-of-being-lazy">Ex 6: The Art of Being Lazy</h1>
<div class="admonition abstract">
<p class="admonition-title">Basic Information</p>
<ul>
<li><strong>Deadline:</strong> 22 October 2024, Tuesday, 23:59 SGT</li>
<li><strong>Difficulty:</strong> ★★★★★★</li>
</ul>
</div>
<div class="admonition info">
<p class="admonition-title">Prerequisite</p>
<ul>
<li>Caught up to <a href="../32-lazy.html">Unit 32</a> of Lecture Notes.</li>
<li>Familiar with <a href="../style.html">CS2030S Java style guide</a>.</li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">Class Files</p>
<p>If you have not finished Programming Exercise 5, do not worry.
We provide <code>.class</code> files for the functional interfaces as well as <code>Maybe&lt;T&gt;</code>.
Note that the implementation for <code>Maybe&lt;T&gt;</code> is badly written not following OOP but it is the correct implementation.</p>
<p>Additionally, the class files were compiled on PE node using Java 21 compiled.
If you are not using Java 21 or if you are not working on PE node, you may get different result.
It is unlikely, but the possibility is there.
Please only do your work on the PE node.</p>
<p>Note that since we provide only the <code>.class</code> files for <code>Maybe&lt;T&gt;</code> and the functional interfaces, you may need to compile <code>Lazy&lt;T&gt;</code> with the following command from <code>ex6-username</code> directory.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>javac<span class="w"> </span>cs2030s/fp/Lazy.java
</code></pre></div></td></tr></table></div>
</div>
<hr />
<h2 id="maybe">Maybe</h2>
<p>Our <code>Maybe</code> class has the following methods available.  Methods that are not available cannot be used.  You should not modify <code>Maybe</code> class.
You may use the method descriptor as an inspiration for future exercises to make your method more flexible.
All the methods below are <code>public</code>.
No other <code>public</code> methods are available.</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>static &lt;T&gt; Maybe&lt;T&gt; of</code><br>&nbsp;&nbsp;&nbsp;&nbsp;<code>(T val)</code></td>
<td>Returns a new <code>Maybe&lt;T&gt;</code> depending on the value of <code>val</code>.<ul><li>If <code>val</code> is <code>null</code> returns the singleton <code>NONE</code> without any value inside</li><li>Otherwise returns a new <code>Maybe&lt;T&gt;</code> with the content <code>val</code>.</li></ul></td>
</tr>
<tr>
<td><code>static &lt;T&gt; Maybe&lt;T&gt; some</code><br>&nbsp;&nbsp;&nbsp;&nbsp;<code>(T val)</code></td>
<td>Returns a new <code>Maybe&lt;T&gt;</code> with the content <code>val</code> regardless if <code>val</code> is <code>null</code> or not.</td>
</tr>
<tr>
<td><code>static &lt;T&gt; Maybe&lt;T&gt; none</code><br>&nbsp;&nbsp;&nbsp;&nbsp;<code>(T val)</code></td>
<td>Returns a the singleton <code>NONE</code> without any value inside.</td>
</tr>
<tr>
<td><code>&lt;U&gt; Maybe&lt;U&gt; map</code><br>&nbsp;&nbsp;&nbsp;&nbsp;<code>(Transformer&lt;? super T,</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>? extends U&gt; func)</code></td>
<td>Transform <code>this.val</code> (<em>if any</em>) using <code>func</code> and return a new <code>Maybe&lt;U&gt;</code>.<ul><li>If there is no <code>this.val</code> returns the singleton <code>NONE</code> without any value inside.</li><li>Otherwise return a new instance of <code>Maybe&lt;U&gt;</code> with <code>this.val</code> transformed using <code>func</code>.</td>
</tr>
<tr>
<td><code>Maybe&lt;T&gt; filter</code><br>&nbsp;&nbsp;&nbsp;&nbsp;<code>(BooleanCondition&lt;? super T&gt; pred)</code></td>
<td>Transform <code>this.val</code> (<em>if any</em>) depending on the result of <code>pred</code>.<ul><li>If there is no <code>this.val</code> returns the singleton <code>NONE</code> without any value inside.</li><li>If <code>this.val == null</code> returns the singleton <code>NONE</code> without any value inside.</li><li>If <code>this.val</code> evaluates to <code>false</code> when passed into<code>pred</code> returns the singleton <code>NONE</code> without any value inside.</li><li>Otherwise the current instance.</li></ul></td>
</tr>
<tr>
<td><code>&lt;U&gt; Maybe&lt;U&gt; flatMap</code><br>&nbsp;&nbsp;&nbsp;&nbsp;<code>(Transformer&lt;? super T,</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>? extends Maybe&lt;? extends U&gt;&gt; func)</code></td>
<td>Transform <code>this.val</code> (<em>if any</em>) using <code>func</code> and return a new <code>Maybe&lt;U&gt;</code>.<ul><li>If there is no <code>this.val</code> returns the singleton <code>NONE</code> without any value inside.</li><li>Otherwise return a new instance of <code>Maybe&lt;U&gt;</code> with <code>this.val</code> transformed using <code>func</code> but without making a nested <code>Maybe</code>.</td>
</tr>
<tr>
<td><code>T orElse</code><br>&nbsp;&nbsp;&nbsp;&nbsp;<code>(Producer&lt;? extends T&gt; prod)</code></td>
<td>Returns <code>this.val</code> (<em>if any</em>).<ul><li>If there is no <code>this.val</code> produce a new value using <code>prod</code>.</li><li>Otherwise <code>this.val</code>.</td>
</tr>
<tr>
<td><code>void ifPresent</code><br>&nbsp;&nbsp;&nbsp;&nbsp;<code>(Consumer&lt;? super T&gt; cons)</code></td>
<td>Consumes <code>this.val</code> (<em>if any</em>).<ul><li>If there is no <code>this.val</code> do nothing.</li><li>Otherwise consume <code>this.val</code> using <code>cons</code>.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="being-lazy">Being Lazy</h2>
<p>Programming languages such as Scala support lazy values, where the expression that produces a lazy value is not evaluated until the value is needed. Lazy value is useful for cases where producing the value is expensive, but the value might not eventually be used. Java, however, does not provide a similar abstraction. So, you are going to build one.</p>
<p>You are required to design a single <code>Lazy&lt;T&gt;</code> class as part of the <code>cs2030s.fp</code> package with <strong>two</strong> instance fields and no class fields.
You are not allowed to add additional instance/class fields to <code>Lazy&lt;T&gt;</code>.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Lazy</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="n">Producer</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">producer</span><span class="p">;</span>
<span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="n">Maybe</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>

<span class="w">   </span><span class="p">:</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>While you cannot add new fields, you should make the current field more flexible whenever possible.
Furthermore, in all discussion below, the method signature given may not be the most flexible.
Your task is to determine if they can be made more flexible.
If they can, you should use the most flexible type while minimizing the number of type parameters by using wildcards.</p>
<h3 id="constraints">Constraints</h3>
<p>You should minimize the use of conditional statements and conditional expressions. In many cases, this can be done by using the appropriate methods from <code>Maybe&lt;T&gt;</code>. You are also not allowed to have nested class within <code>Lazy&lt;T&gt;</code> to avoid conditional statements/expressions by using <strong>polymorphism</strong>.</p>
<p>If you have done the design correctly, you will have no conditional statements/expressions except for the <code>boolean equals(Object)</code> method.</p>
<p>The basic idea is that we can match the concept of <code>None&lt;T&gt;</code> to a lazy value that is not yet computed and the concept of <code>Some&lt;T&gt;</code> to a lazy value that is already computed.
The proper name for this is that they are <strong>isomorphic</strong>.</p>
<hr />
<h2 id="tasks">Tasks</h2>
<h3 id="task-1-basic">Task 1: Basic</h3>
<p>Define a generic <code>Lazy</code> class to encapsulate a value with the following operations:</p>
<ul>
<li><code>static of(T v)</code> method that initializes the <code>Lazy</code> object with the given value.</li>
<li><code>static of(Producer&lt;T&gt; s)</code> method that takes in a producer that produces the value when needed.</li>
<li><code>get()</code> method that is called when the value is needed. If the value is already available, return that value; otherwise, compute the value and return it. The computation should only be done once for the same value.</li>
<li><code>toString()</code>: returns <code>"?"</code> if the value is not yet available; returns the string representation of the value otherwise.<ul>
<li>You are encouraged to use <code>String.valueOf(obj)</code> instead of <code>obj.toString()</code> to avoid runtime error when <code>obj</code> is <code>null</code>.</li>
</ul>
</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Immutable?</p>
<p>For our <code>Lazy&lt;T&gt;</code> to be immutable and to make the memoization of the value transparent, <code>toString</code> should call <code>get()</code> and should never return <code>"?"</code>. We break the rules of immutability and encapsulation here, just so that it is easier to debug and test the laziness of your implementation.</p>
</div>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Sample Usage</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span></pre></div></td><td class="code"><div><pre><span></span><code>jshell&gt; import cs2030s.fp.Producer
jshell&gt; import cs2030s.fp.Lazy

jshell&gt; Lazy&lt;Integer&gt; eight = Lazy.of(8)
jshell&gt; eight
eight ==&gt; 8
jshell&gt; eight.get()
$.. ==&gt; 8

jshell&gt; Producer&lt;String&gt; s = () -&gt; &quot;hello&quot;
jshell&gt; Lazy&lt;Object&gt; hello = Lazy.of(s)
jshell&gt; Lazy&lt;String&gt; hello = Lazy.of(s)
jshell&gt; hello
hello ==&gt; ?
jshell&gt; hello.get()
$.. ==&gt; &quot;hello&quot;

jshell&gt; s = () -&gt; { System.out.println(&quot;world!&quot;); return &quot;hello&quot;; }
jshell&gt; Lazy&lt;String&gt; hello = Lazy.of(s)
jshell&gt; hello
hello ==&gt; ?
jshell&gt; hello.get()
world!
$.. ==&gt; &quot;hello&quot;

jshell&gt; // check that &quot;world!&quot; should not be printed again.
jshell&gt; hello.get()
$.. ==&gt; &quot;hello&quot;

jshell&gt; Random rng = new Random(1)
jshell&gt; Producer&lt;Integer&gt; r = () -&gt; rng.nextInt()
jshell&gt; Lazy&lt;Integer&gt; random = Lazy.of(r)

jshell&gt; // check that random value should not be available
jshell&gt; random
random ==&gt; ?

jshell&gt; // check that random value is obtained only once
jshell&gt; random.get().equals(random.get())
$.. ==&gt; true

jshell&gt; // should handle null
jshell&gt; Lazy&lt;Object&gt; n = Lazy.of((Object)null)
jshell&gt; n.toString()
$.. ==&gt; &quot;null&quot;
jshell&gt; n.get()
$.. ==&gt; null

jshell&gt; Lazy&lt;Integer&gt; n = Lazy.of((Producer&lt;Integer&gt;)() -&gt; null)
jshell&gt; n
n ==&gt; ?
jshell&gt; n.get()
$.. ==&gt; null
</code></pre></div></td></tr></table></div>
<p>You can test this more comprehensively by running without compilation warning/error and all tests printing <code>ok</code>.
Make sure your code follows the CS2030S Java style.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Test1.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code>javac -Xlint:rawtypes -Xlint:unchecked Test1.java
java Test1
$ java -jar ~cs2030s/bin/checkstyle.jar -c ex6_style.xml cs2030s/fp/*.java
</code></pre></div></td></tr></table></div>
<h3 id="task-2-map-and-flatmap">Task 2: Map and FlatMap</h3>
<p>Now let's add the <code>map</code> and <code>flatMap</code> method. Remember that <code>Lazy</code> should not evaluate anything until <code>get()</code> is called, so the function <code>f</code> passed into <code>Lazy</code> through <code>map</code> and <code>flatMap</code> should not be evaluated until <code>get()</code> is called. Furthermore, they should be evaluated once. That result from <code>map</code> and <code>flatMap</code>, once evaluated, should be cached (<em>also called memoized</em>), so that function must not be called again.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Sample Usage</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span></pre></div></td><td class="code"><div><pre><span></span><code>jshell&gt; import cs2030s.fp.Lazy
jshell&gt; import cs2030s.fp.Producer
jshell&gt; import cs2030s.fp.Transformer

jshell&gt; Producer&lt;String&gt; s = () -&gt; &quot;123456&quot;
jshell&gt; Lazy&lt;String&gt; lazy = Lazy.of(s)
jshell&gt; lazy.map(str -&gt; str.substring(0, 1))
$.. ==&gt; ?
jshell&gt; lazy
$.. ==&gt; ?
jshell&gt; lazy.map(str -&gt; str.substring(0, 1)).get()
$.. ==&gt; &quot;1&quot;
jshell&gt; lazy.get()
$.. ==&gt; &quot;123456&quot;

jshell&gt; Transformer&lt;String, String&gt; substr = str -&gt; {
   ...&gt;   System.out.println(&quot;substring&quot;);
   ...&gt;   return str.substring(0, 1);
   ...&gt; }
jshell&gt; lazy = lazy.map(substr)
jshell&gt; lazy.get()
substring
$.. ==&gt; &quot;1&quot;
jshell&gt; lazy.get()
$.. ==&gt; &quot;1&quot;

jshell&gt; Lazy&lt;Integer&gt; lazy = Lazy.of(10)
jshell&gt; lazy = lazy.map(i -&gt; i + 1)
jshell&gt; lazy = lazy.flatMap(j -&gt; Lazy.of(j + 3))
jshell&gt; lazy
lazy ==&gt; ?
jshell&gt; lazy.get()
$.. ==&gt; 14
jshell&gt; lazy
lazy ==&gt; 14

jshell&gt; Transformer&lt;Object, Integer&gt; hash = x -&gt; x.hashCode();
jshell&gt; Lazy&lt;Number&gt; lazy = Lazy.&lt;String&gt;of(&quot;sunday&quot;).map(hash);
jshell&gt; Transformer&lt;Object, Lazy&lt;Integer&gt;&gt; hash = x -&gt; Lazy.&lt;Integer&gt;of(x.hashCode());
jshell&gt; Lazy&lt;Number&gt; lazy = Lazy.&lt;String&gt;of(&quot;sunday&quot;).flatMap(hash);
</code></pre></div></td></tr></table></div>
<p>You can test this more comprehensively by running without compilation warning/error and all tests printing <code>ok</code>.
Make sure your code follows the CS2030S Java style.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Test2.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code>javac -Xlint:rawtypes -Xlint:unchecked Test2.java
java Test2
$ java -jar ~cs2030s/bin/checkstyle.jar -c ex6_style.xml cs2030s/fp/*.java
</code></pre></div></td></tr></table></div>
<h3 id="task-3-filter-and-equality">Task 3: Filter and Equality</h3>
<p>Write a <code>filter</code> method, which takes in a <code>BooleanCondition</code> and lazily tests if the value passes the test or not. Returns a <code>Lazy&lt;Boolean&gt;</code> object. The <code>BooleanCondition</code> must be executed at most once.</p>
<p>Then write an <code>equals</code>, which overrides the <code>equals</code> method in the <code>Object</code> class. <code>equals</code> is an <strong>eager</strong> operation that causes the values to be evaluated (<em>if not already cached</em>). <code>equals</code> should return <code>true</code> only if both objects being compared are <code>Lazy</code> and the value contains within are equals (<em>according to their</em> <code>equals()</code> <em>methods</em>).</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Sample Usage</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><span></span><code>jshell&gt; import cs2030s.fp.Lazy

jshell&gt; Lazy&lt;Integer&gt; fifty = Lazy.of(50)
jshell&gt; Lazy&lt;Boolean&gt; even = fifty.filter(i -&gt; i % 2 == 0)
jshell&gt; even
even ==&gt; ?
jshell&gt; even.get()
$.. ==&gt; true
jshell&gt; even
even ==&gt; true

jshell&gt; // equals
jshell&gt; fifty.equals(Lazy.of(5).map(i -&gt; i * 10))
$.. ==&gt; true
jshell&gt; fifty.equals(50)
$.. ==&gt; false
jshell&gt; fifty.equals(Lazy.of(&quot;50&quot;))
$.. ==&gt; false
jshell&gt; even.equals(Lazy.of(true))
$.. ==&gt; true

jshell&gt; BooleanCondition&lt;String&gt; isHello = s -&gt; {
   ...&gt;   System.out.println(s);
   ...&gt;   return s.equals(&quot;hello&quot;);
   ...&gt; }
jshell&gt; Lazy&lt;Boolean&gt; same = Lazy.of(&quot;hi&quot;).filter(isHello)
jshell&gt; same
same ==&gt; ?
jshell&gt; same.get()
hi
$.. ==&gt; false
jshell&gt; same.get()
$.. ==&gt; false

jshell&gt; BooleanCondition&lt;Object&gt; alwaysFalse = s -&gt; false
jshell&gt; Lazy&lt;Boolean&gt; same = Lazy.&lt;String&gt;of(&quot;hi&quot;).filter(alwaysFalse)

jshell&gt; Producer&lt;String&gt; producer = () -&gt; &quot;123456&quot;;
jshell&gt; Lazy&lt;String&gt; oneToSix = Lazy.of(producer);
jshell&gt; oneToSix.toString();
$.. ==&gt; ?
jshell&gt; oneToSix == oneToSix
$.. ==&gt; true
jshell&gt; oneToSix.toString();
$.. ==&gt; ?
jshell&gt; oneToSix.equals(oneToSix)
$.. ==&gt; true
jshell&gt; oneToSix.toString();
$.. ==&gt; 123456
</code></pre></div></td></tr></table></div>
<p>You can test this more comprehensively by running without compilation warning/error and all tests printing <code>ok</code>.
Make sure your code follows the CS2030S Java style.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Test3.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code>javac -Xlint:rawtypes -Xlint:unchecked Test3.java
java Test3
$ java -jar ~cs2030s/bin/checkstyle.jar -c ex6_style.xml cs2030s/fp/*.java
</code></pre></div></td></tr></table></div>
<h3 id="task-4-combine">Task 4: Combine</h3>
<p>We have provided an interface called <code>Combiner&lt;S, T, R&gt;</code> in <code>cs2030s.fp</code>, with a single <code>combine</code> method to combine two values, of type <code>S</code> and <code>T</code> respectively, into a result of type <code>R</code>.</p>
<p>Add a method called <code>combine</code> into <code>Lazy</code>. The <code>combine</code> method takes in another <code>Lazy</code> object and a <code>Combiner</code> implementation to lazily combine the two Lazy objects (<em>which may contain values of different types</em>) and return a new <code>Lazy</code> object.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span></pre></div></td><td class="code"><div><pre><span></span><code>jshell&gt; import cs2030s.fp.Lazy
jshell&gt; Lazy&lt;Integer&gt; five, ten, fifty, hundred
jshell&gt; ten = Lazy.of(10)
jshell&gt; five = Lazy.of(5)
jshell&gt; // combine (same types)
jshell&gt; Combiner&lt;Integer, Integer, Integer&gt; add = (x, y) -&gt; {
   ...&gt;   System.out.println(&quot;combine&quot;);
   ...&gt;   return x + y;
   ...&gt; }
jshell&gt; fifty = five.combine(ten, (x, y) -&gt; x * y)
jshell&gt; fifty
fifty ==&gt; ?
jshell&gt; hundred = fifty.combine(fifty, add)
jshell&gt; hundred
hundred ==&gt; ?
jshell&gt; // combine (different types)
jshell&gt; Combiner&lt;Integer,Double,String&gt; f = (x, y) -&gt; Integer.toString(x) + &quot; &quot; + Double.toString(y)
jshell&gt; Lazy&lt;String&gt; s = Lazy.of(10).combine(Lazy.of(0.01), f)
jshell&gt; s
s ==&gt; ?
jshell&gt; s.get()
$.. ==&gt; &quot;10 0.01&quot;

jshell&gt; Combiner&lt;Object,Object,Integer&gt; f = (x, y) -&gt; x.hashCode() + y.hashCode()
jshell&gt; Lazy&lt;Number&gt; n = Lazy.&lt;String&gt;of(&quot;hello&quot;).combine(Lazy.&lt;Integer&gt;of(123), f);
</code></pre></div></td></tr></table></div>
<p>You can test this more comprehensively by running without compilation warning/error and all tests printing <code>ok</code>.
Make sure your code follows the CS2030S Java style.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Test4.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code>javac -Xlint:rawtypes -Xlint:unchecked Test4.java
java Test4
$ java -jar ~cs2030s/bin/checkstyle.jar -c ex6_style.xml cs2030s/fp/*.java
</code></pre></div></td></tr></table></div>
<h2 id="skeleton-for-programming-exercise-5">Skeleton for Programming Exercise 5</h2>
<p>We provide <code>.class</code> files for the functional interfaces as well as <code>Maybe&lt;T&gt;</code>.
There are also template files for <code>Lazy.java</code> and <code>Combiner.java</code> in <code>cs2030s/fp</code> directory.
Some files (<em>e.g.,</em> <code>Test1.java</code>, <code>Test2.java</code>, <code>CS2030STest.java</code>, <em>etc</em>) are provided for testing.
You may edit them to add your own test cases, but we will be using our own version for testing.</p>
<p>While there is no given public test cases for it, we will test your code with hidden test cases that checks for flexible type.
Additionally, minimize the number of type parameter by using wildcards.
Lastly, ensure that you use <code>@SuppressWarnings</code> as needed.</p>
<h2 id="following-cs2030s-style-guide">Following CS2030S Style Guide</h2>
<p>You should make sure your code follows the <a href="../style.html">given Java style guide</a>.</p>
<h2 id="further-deductions">Further Deductions</h2>
<p>Additional deductions may be given for other issues or errors in your code.  <ins class="critic">These deductions may now be unbounded, up to 5 marks</ins>.  This include <em>but not limited to</em></p>
<ul>
<li>run-time error.</li>
<li>failure to follow instructions.</li>
<li>improper designs (<em>e.g.,</em> not following good OOP practice).</li>
<li>not comenting <code>@SuppressWarnings</code>.</li>
<li>misuse of <code>@SuppressWarnings</code> (<em>e.g.,</em> not necessary, not in smallest scope, <em>etc</em>).</li>
</ul>
<h2 id="documentation-optional">Documentation (Optional)</h2>
<p>Documenting your code with Javadoc is optional for Programming Exercise 6.  It is, however, always a good practice to include comments to help readers understand your code.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright by Department of Computer Science, National University of Singapore 2023
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "toc.follow", "toc.integrate", "content.code.annotate", "content.code.copy"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../javascripts/config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
      
    
  </body>
</html>